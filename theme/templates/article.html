{% extends "base.html" %}

{% block title %}{{ article.title }} - {{ SITENAME }}{% endblock %}

{% block description %}{{ article.summary|striptags|truncate(160) }}{% endblock %}

{% block content %}
<article class="article">
    <header class="article-header">
        <div class="container">
            <div class="article-meta">
                <span class="article-category">{{ article.category }}</span>
                <time datetime="{{ article.date.isoformat() }}" class="article-date">{{ article.locale_date }}</time>
                {% if article.author %}
                    <span class="article-author">by {{ article.author }}</span>
                {% endif %}
            </div>

            <h1 class="article-title">{{ article.title }}</h1>

            {% if article.summary %}
                <div class="article-summary">{{ article.summary }}</div>
            {% endif %}

            {% if article.featured_image %}
                <div class="article-featured-image">
                    <img src="{{ SITEURL }}/{{ article.featured_image }}" alt="{{ article.title }}" loading="lazy">
                </div>
            {% endif %}
        </div>
    </header>

    <div class="article-content">
        <div class="container">
            <div class="prose">
                {{ article.content }}
            </div>

            {% if article.tags %}
                <div class="article-tags">
                    <span class="tags-label">Tags:</span>
                    {% for tag in article.tags %}
                        <a href="{{ SITEURL }}/{{ tag.url }}" class="tag">{{ tag.name }}</a>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    </div>
</article>

<nav class="article-navigation">
    <div class="container">
        <div class="nav-links">
            {% if article.prev_article %}
                <div class="nav-previous">
                    <span class="nav-label">Previous Article</span>
                    <a href="{{ SITEURL }}/{{ article.prev_article.url }}" class="nav-title">{{ article.prev_article.title }}</a>
                </div>
            {% endif %}

            {% if article.next_article %}
                <div class="nav-next">
                    <span class="nav-label">Next Article</span>
                    <a href="{{ SITEURL }}/{{ article.next_article.url }}" class="nav-title">{{ article.next_article.title }}</a>
                </div>
            {% endif %}
        </div>
    </div>
</nav>
{% endblock %}